[2025-05-18 13:00:26.070 +03:00] [INF] [] [0HNCLU5SMUD3D:00000001] [/swagger/index.html] [Request starting HTTP/1.1 GET https://a86e-41-81-46-57.ngrok-free.app/swagger/index.html - null null] []
[2025-05-18 13:00:26.166 +03:00] [INF] [] [0HNCLU5SMUD3D:00000001] [/swagger/index.html] [Request finished HTTP/1.1 GET https://a86e-41-81-46-57.ngrok-free.app/swagger/index.html - 200 null text/html;charset=utf-8 95.6762ms] []
[2025-05-18 13:00:27.374 +03:00] [INF] [] [0HNCLU5SMUD3D:00000002] [/_framework/aspnetcore-browser-refresh.js] [Request starting HTTP/1.1 GET https://a86e-41-81-46-57.ngrok-free.app/_framework/aspnetcore-browser-refresh.js - null null] []
[2025-05-18 13:00:27.389 +03:00] [INF] [] [0HNCLU5SMUD3D:00000002] [/_framework/aspnetcore-browser-refresh.js] [Request finished HTTP/1.1 GET https://a86e-41-81-46-57.ngrok-free.app/_framework/aspnetcore-browser-refresh.js - 200 16503 application/javascript; charset=utf-8 15.1153ms] []
[2025-05-18 13:00:27.395 +03:00] [INF] [] [0HNCLU5SMUD3E:00000001] [/_vs/browserLink] [Request starting HTTP/1.1 GET https://a86e-41-81-46-57.ngrok-free.app/_vs/browserLink - null null] []
[2025-05-18 13:00:27.442 +03:00] [INF] [] [0HNCLU5SMUD3E:00000001] [/_vs/browserLink] [Request finished HTTP/1.1 GET https://a86e-41-81-46-57.ngrok-free.app/_vs/browserLink - 200 null text/javascript; charset=UTF-8 46.7666ms] []
[2025-05-18 13:00:36.033 +03:00] [INF] [] [0HNCLU5SMUD3E:00000002] [/swagger/v1/swagger.json] [Request starting HTTP/1.1 GET https://a86e-41-81-46-57.ngrok-free.app/swagger/v1/swagger.json - null null] []
[2025-05-18 13:00:42.976 +03:00] [INF] [] [0HNCLU5SMUD3E:00000002] [/swagger/v1/swagger.json] [Request finished HTTP/1.1 GET https://a86e-41-81-46-57.ngrok-free.app/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 6942.2557ms] []
[2025-05-18 13:01:10.603 +03:00] [INF] [] [0HNCLU5SMUD3E:00000003] [/api/v1/mpesa/payments/simulate-lipa-na] [Request starting HTTP/1.1 POST https://a86e-41-81-46-57.ngrok-free.app/api/v1/mpesa/payments/simulate-lipa-na - application/json 130] []
[2025-05-18 13:01:10.636 +03:00] [INF] [] [0HNCLU5SMUD3E:00000003] [/api/v1/mpesa/payments/simulate-lipa-na] [CORS policy execution successful.] []
[2025-05-18 13:01:10.672 +03:00] [INF] [] [0HNCLU5SMUD3E:00000003] [/api/v1/mpesa/payments/simulate-lipa-na] [Executing endpoint 'DarajaAPI.Controllers.v1.MpesaPaymentController.SimulateLipaNaPayment (DarajaAPI)'] []
[2025-05-18 13:01:10.711 +03:00] [INF] [] [0HNCLU5SMUD3E:00000003] [/api/v1/mpesa/payments/simulate-lipa-na] [Route matched with {action = "SimulateLipaNaPayment", controller = "MpesaPayment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SimulateLipaNaPayment(DarajaAPI.Models.Dto.LipaNaSimulationRequest) on controller DarajaAPI.Controllers.v1.MpesaPaymentController (DarajaAPI).] []
[2025-05-18 13:01:16.443 +03:00] [INF] [] [0HNCLU5SMUD3E:00000003] [/api/v1/mpesa/payments/simulate-lipa-na] [Executing OkObjectResult, writing value of type '<>f__AnonymousType2`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.] []
[2025-05-18 13:01:16.469 +03:00] [INF] [] [0HNCLU5SMUD3E:00000003] [/api/v1/mpesa/payments/simulate-lipa-na] [Executed action DarajaAPI.Controllers.v1.MpesaPaymentController.SimulateLipaNaPayment (DarajaAPI) in 5736.7134ms] []
[2025-05-18 13:01:16.504 +03:00] [INF] [] [0HNCLU5SMUD3E:00000003] [/api/v1/mpesa/payments/simulate-lipa-na] [Executed endpoint 'DarajaAPI.Controllers.v1.MpesaPaymentController.SimulateLipaNaPayment (DarajaAPI)'] []
[2025-05-18 13:01:16.538 +03:00] [INF] [] [0HNCLU5SMUD3E:00000003] [/api/v1/mpesa/payments/simulate-lipa-na] [Request finished HTTP/1.1 POST https://a86e-41-81-46-57.ngrok-free.app/api/v1/mpesa/payments/simulate-lipa-na - 200 null application/json; charset=utf-8 5935.1098ms] []
[2025-05-18 13:05:50.733 +03:00] [INF] [] [] [] [Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `m`.`Id`, `m`.`BillRefNumber`, `m`.`BusinessShortCode`, `m`.`CreatedAt`, `m`.`FirstName`, `m`.`InvoiceNumber`, `m`.`IsVerified`, `m`.`LastName`, `m`.`MSISDN`, `m`.`MiddleName`, `m`.`OrgAccountBalance`, `m`.`RetryCount`, `m`.`ThirdPartyTransID`, `m`.`TransAmount`, `m`.`TransID`, `m`.`TransTime`, `m`.`TransactionType`, `m`.`VerificationDate`, `m`.`VerificationResult`
FROM `MpesaC2Bs` AS `m`
WHERE NOT (`m`.`IsVerified`) AND (`m`.`CreatedAt` > DATE_ADD(UTC_TIMESTAMP(), INTERVAL CAST(-7.0 AS signed) day))] []
[2025-05-18 13:15:47.218 +03:00] [INF] [] [0HNCLU5SMUD3F:00000001] [/api/v1/mpesa/payments/initiate] [Request starting HTTP/1.1 POST https://a86e-41-81-46-57.ngrok-free.app/api/v1/mpesa/payments/initiate - application/json 85] []
[2025-05-18 13:15:47.260 +03:00] [INF] [] [0HNCLU5SMUD3F:00000001] [/api/v1/mpesa/payments/initiate] [CORS policy execution successful.] []
[2025-05-18 13:15:47.267 +03:00] [INF] [] [0HNCLU5SMUD3F:00000001] [/api/v1/mpesa/payments/initiate] [Executing endpoint 'DarajaAPI.Controllers.v1.MpesaPaymentController.InitiatePayment (DarajaAPI)'] []
[2025-05-18 13:15:47.294 +03:00] [INF] [] [0HNCLU5SMUD3F:00000001] [/api/v1/mpesa/payments/initiate] [Route matched with {action = "InitiatePayment", controller = "MpesaPayment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] InitiatePayment(DarajaAPI.Models.Dto.PaymentRequestDto) on controller DarajaAPI.Controllers.v1.MpesaPaymentController (DarajaAPI).] []
[2025-05-18 13:15:47.342 +03:00] [INF] [] [0HNCLU5SMUD3F:00000001] [/api/v1/mpesa/payments/initiate] [Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.] []
[2025-05-18 13:15:47.403 +03:00] [INF] [] [0HNCLU5SMUD3F:00000001] [/api/v1/mpesa/payments/initiate] [Executed action DarajaAPI.Controllers.v1.MpesaPaymentController.InitiatePayment (DarajaAPI) in 91.4609ms] []
[2025-05-18 13:15:47.412 +03:00] [INF] [] [0HNCLU5SMUD3F:00000001] [/api/v1/mpesa/payments/initiate] [Executed endpoint 'DarajaAPI.Controllers.v1.MpesaPaymentController.InitiatePayment (DarajaAPI)'] []
[2025-05-18 13:15:47.421 +03:00] [INF] [] [0HNCLU5SMUD3F:00000001] [/api/v1/mpesa/payments/initiate] [Request finished HTTP/1.1 POST https://a86e-41-81-46-57.ngrok-free.app/api/v1/mpesa/payments/initiate - 400 null application/problem+json; charset=utf-8 204.1113ms] []
[2025-05-18 13:17:20.572 +03:00] [INF] [] [0HNCLU5SMUD3G:00000001] [/api/v1/mpesa/payments/initiate] [Request starting HTTP/1.1 POST https://a86e-41-81-46-57.ngrok-free.app/api/v1/mpesa/payments/initiate - application/json 85] []
[2025-05-18 13:17:20.599 +03:00] [INF] [] [0HNCLU5SMUD3G:00000001] [/api/v1/mpesa/payments/initiate] [CORS policy execution successful.] []
[2025-05-18 13:17:20.609 +03:00] [INF] [] [0HNCLU5SMUD3G:00000001] [/api/v1/mpesa/payments/initiate] [Executing endpoint 'DarajaAPI.Controllers.v1.MpesaPaymentController.InitiatePayment (DarajaAPI)'] []
[2025-05-18 13:17:20.620 +03:00] [INF] [] [0HNCLU5SMUD3G:00000001] [/api/v1/mpesa/payments/initiate] [Route matched with {action = "InitiatePayment", controller = "MpesaPayment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] InitiatePayment(DarajaAPI.Models.Dto.PaymentRequestDto) on controller DarajaAPI.Controllers.v1.MpesaPaymentController (DarajaAPI).] []
[2025-05-18 13:17:20.644 +03:00] [INF] [] [0HNCLU5SMUD3G:00000001] [/api/v1/mpesa/payments/initiate] [Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.] []
[2025-05-18 13:17:20.656 +03:00] [INF] [] [0HNCLU5SMUD3G:00000001] [/api/v1/mpesa/payments/initiate] [Executed action DarajaAPI.Controllers.v1.MpesaPaymentController.InitiatePayment (DarajaAPI) in 17.1603ms] []
[2025-05-18 13:17:20.668 +03:00] [INF] [] [0HNCLU5SMUD3G:00000001] [/api/v1/mpesa/payments/initiate] [Executed endpoint 'DarajaAPI.Controllers.v1.MpesaPaymentController.InitiatePayment (DarajaAPI)'] []
[2025-05-18 13:17:20.679 +03:00] [INF] [] [0HNCLU5SMUD3G:00000001] [/api/v1/mpesa/payments/initiate] [Request finished HTTP/1.1 POST https://a86e-41-81-46-57.ngrok-free.app/api/v1/mpesa/payments/initiate - 400 null application/problem+json; charset=utf-8 107.1013ms] []
[2025-05-18 13:20:50.957 +03:00] [INF] [] [] [] [Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `m`.`Id`, `m`.`BillRefNumber`, `m`.`BusinessShortCode`, `m`.`CreatedAt`, `m`.`FirstName`, `m`.`InvoiceNumber`, `m`.`IsVerified`, `m`.`LastName`, `m`.`MSISDN`, `m`.`MiddleName`, `m`.`OrgAccountBalance`, `m`.`RetryCount`, `m`.`ThirdPartyTransID`, `m`.`TransAmount`, `m`.`TransID`, `m`.`TransTime`, `m`.`TransactionType`, `m`.`VerificationDate`, `m`.`VerificationResult`
FROM `MpesaC2Bs` AS `m`
WHERE NOT (`m`.`IsVerified`) AND (`m`.`CreatedAt` > DATE_ADD(UTC_TIMESTAMP(), INTERVAL CAST(-7.0 AS signed) day))] []
[2025-05-18 13:35:51.150 +03:00] [INF] [] [] [] [Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `m`.`Id`, `m`.`BillRefNumber`, `m`.`BusinessShortCode`, `m`.`CreatedAt`, `m`.`FirstName`, `m`.`InvoiceNumber`, `m`.`IsVerified`, `m`.`LastName`, `m`.`MSISDN`, `m`.`MiddleName`, `m`.`OrgAccountBalance`, `m`.`RetryCount`, `m`.`ThirdPartyTransID`, `m`.`TransAmount`, `m`.`TransID`, `m`.`TransTime`, `m`.`TransactionType`, `m`.`VerificationDate`, `m`.`VerificationResult`
FROM `MpesaC2Bs` AS `m`
WHERE NOT (`m`.`IsVerified`) AND (`m`.`CreatedAt` > DATE_ADD(UTC_TIMESTAMP(), INTERVAL CAST(-7.0 AS signed) day))] []
[2025-05-18 13:50:51.241 +03:00] [INF] [] [] [] [Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `m`.`Id`, `m`.`BillRefNumber`, `m`.`BusinessShortCode`, `m`.`CreatedAt`, `m`.`FirstName`, `m`.`InvoiceNumber`, `m`.`IsVerified`, `m`.`LastName`, `m`.`MSISDN`, `m`.`MiddleName`, `m`.`OrgAccountBalance`, `m`.`RetryCount`, `m`.`ThirdPartyTransID`, `m`.`TransAmount`, `m`.`TransID`, `m`.`TransTime`, `m`.`TransactionType`, `m`.`VerificationDate`, `m`.`VerificationResult`
FROM `MpesaC2Bs` AS `m`
WHERE NOT (`m`.`IsVerified`) AND (`m`.`CreatedAt` > DATE_ADD(UTC_TIMESTAMP(), INTERVAL CAST(-7.0 AS signed) day))] []
